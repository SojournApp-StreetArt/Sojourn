(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c15ba57a"],{"1ad7":function(e,t,r){},b330:function(e,t,r){"use strict";r("4160"),r("b0c0"),r("d3b7"),r("159b");var n=r("5530"),a=(r("96cf"),r("1da1")),u=r("7a23"),o=r("8aa5"),c=r.n(o),l=(r("e71f"),r("f60e"));0===c.a.apps.length&&c.a.initializeApp(l["a"]);var i="image-capture/";t["a"]=function(){var e=Object(u["v"])(0),t=Object(u["v"])(),r=Object(u["u"])({error:null,loading:!1,resultData:null}),o=c.a.storage().ref(),l=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.storage().ref(t).delete());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){return t.value=[],c.a.storage().ref("image-capture/").listAll().then((function(e){return console.log(e),e.items.forEach(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(r.fullPath),e.next=3,r.getDownloadURL();case 3:a=e.sent,null===t||void 0===t||null===(n=t.value)||void 0===n||n.push({name:r.fullPath,url:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.value}))},d=function(t,n){return new Promise((function(u,l){r.error=null,r.loading=!0,e.value=0;var s=(new Date).getTime()+"-"+n;try{var d=o.child("".concat(i,"\\").concat(s)),p=d.putString(t,"data_url",{contentType:"image/jpeg"});p.on(c.a.storage.TaskEvent.STATE_CHANGED,(function(t){var r=t.bytesTransferred/t.totalBytes;e.value=r,console.log("STATE_CHANGED",r)}),(function(e){return r.error=e,r.loading=!1,console.log("ERROR",e),l(r.error)}),Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.error=null,r.loading=!1,t.next=4,p.snapshot.ref.getDownloadURL();case 4:return n=t.sent,r.resultData={downloadUrl:n,name:p.snapshot.metadata.name,image:{ref:p.snapshot.ref.fullPath,size:p.snapshot.metadata.size,contentType:p.snapshot.metadata.contentType,timeCreated:p.snapshot.metadata.timeCreated}},e.value=0,t.abrupt("return",u(r.resultData));case 8:case"end":return t.stop()}}),t)}))))}catch(f){return r.loading=!1,r.error=f,e.value=0,l(r.error)}}))};return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}}),e)})))(),Object(n["a"])(Object(n["a"])({},Object(u["A"])(r)),{},{progress:e,uploadData:d,listFiles:s,deleteFile:l,files:t})}},b859:function(e,t,r){"use strict";r("1ad7")},bb51:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["F"])("data-v-6df759b2");Object(n["t"])("data-v-6df759b2");var u=Object(n["g"])("Blank"),o={key:0},c={key:1},l=Object(n["h"])("h2",null,"This is the Camera Page",-1),i=Object(n["h"])("div",null,"Showing the use of the Capacitor Camera plugin and the vue-router for changing pages in the application",-1),s={key:0,class:"image-wrapper"},d=Object(n["g"])("Take Picture Now"),p=Object(n["g"])("UPLOAD");Object(n["r"])();var f=a((function(e,t,r,f,b,g){var h=Object(n["x"])("ion-title"),v=Object(n["x"])("ion-toolbar"),O=Object(n["x"])("ion-header"),j=Object(n["x"])("ion-card-header"),m=Object(n["x"])("ion-button"),w=Object(n["x"])("ion-card-content"),x=Object(n["x"])("ion-card"),k=Object(n["x"])("ion-content"),y=Object(n["x"])("ion-page");return Object(n["q"])(),Object(n["e"])(y,null,{default:a((function(){return[Object(n["h"])(O,{translucent:!0},{default:a((function(){return[Object(n["h"])(v,null,{default:a((function(){return[Object(n["h"])(h,null,{default:a((function(){return[u]})),_:1})]})),_:1})]})),_:1}),Object(n["h"])(k,{fullscreen:!0,class:"ion-padding"},{default:a((function(){return[e.loading?(Object(n["q"])(),Object(n["e"])("div",o,[Object(n["h"])("div",{style:e.progressBarStyleCalc},null,4)])):e.error?(Object(n["q"])(),Object(n["e"])("div",c,Object(n["z"])(e.error),1)):Object(n["f"])("",!0),Object(n["h"])(x,null,{default:a((function(){return[Object(n["h"])(j,null,{default:a((function(){return[l]})),_:1}),Object(n["h"])(w,null,{default:a((function(){return[i,e.imageUrl?(Object(n["q"])(),Object(n["e"])("div",s,[Object(n["h"])("img",{src:e.imageUrl?e.imageUrl.dataUrl:null},null,8,["src"])])):Object(n["f"])("",!0),Object(n["h"])(v,null,{default:a((function(){return[Object(n["h"])(m,{slot:"start",onClick:t[1]||(t[1]=function(t){return e.takePicture()})},{default:a((function(){return[d]})),_:1}),Object(n["h"])(m,{slot:"end",onClick:t[2]||(t[2]=function(t){return e.uploadImage()})},{default:a((function(){return[p]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),b=(r("96cf"),r("1da1")),g=r("8a30"),h=r("81c3"),v=r("b330"),O=h["c"].Camera,j=Object(n["i"])({name:"Home",components:{IonCard:g["e"],IonCardContent:g["f"],IonCardHeader:g["g"],IonContent:g["h"],IonHeader:g["i"],IonPage:g["p"],IonTitle:g["w"],IonToolbar:g["x"],IonButton:g["c"]},setup:function(){var e=Object(v["a"])(),t=e.uploadData,r=e.loading,a=e.progress,u=e.error,o=e.resultData,c=Object(n["v"])(),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g["A"].create({message:e,position:"top",color:t?"danger":"primary",duration:2e3}).then((function(e){return e.present()}))},i=Object(n["c"])((function(){return{width:100*a.value+"%","background-color":"red",height:"4px"}})),s=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var r,n,a,u,o,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===c||void 0===c?void 0:c.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r=(new Date).getTime()+"."+c.value.format,n=null===c||void 0===c?void 0:c.value,a=n.dataUrl,u=void 0===a?"":a,o=n.path,i=void 0===o?r:o,e.next=7,t(u,i);case 7:return s=e.sent,console.log(s),l("File Uploaded!!",!1),c.value=null,e.abrupt("return",s);case 14:e.prev=14,e.t0=e["catch"](2),console.log(e.t0),l(e.t0.message,!0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.getPhoto({quality:100,allowEditing:!0,resultType:h["a"].DataUrl,source:h["b"].Prompt});case 3:return t=e.sent,c.value=t,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e["catch"](0),l("User Cancelled!",!0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return{takePicture:d,uploadImage:s,uploadData:t,imageUrl:c,loading:r,progress:a,error:u,resultData:o,progressBarStyleCalc:i}}});r("b859");j.render=f,j.__scopeId="data-v-6df759b2";t["default"]=j}}]);
//# sourceMappingURL=chunk-c15ba57a.290522f7.js.map